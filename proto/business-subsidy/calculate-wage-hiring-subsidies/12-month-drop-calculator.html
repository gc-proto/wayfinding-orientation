<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
<meta charset="utf-8" />
<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
<title>Calculate your 12-month average revenue drop – Canada.ca</title>
<meta content="width=device-width,initial-scale=1" name="viewport" />
<meta name="robots" content="noindex" />
<!-- Meta data -->

<!-- Load closure template scripts -->

<script type="text/javascript" src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_39/cdts/compiled/soyutils.js"></script>
<script type="text/javascript" src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_39/cdts/compiled/wet-en.js"></script>
<link href="https://test.canada.ca/covid-19-guidance/proto/css/alpha-beta-banner.css" rel="stylesheet" />
<link href="../../css/cews.css" rel="stylesheet" />
<link href="../../css/checkbox-radio-cers.css" rel="stylesheet" />
<link href="http://test.canada.ca/cra/css/and-or.css" rel="stylesheet" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
<!-- Write closure template -->
<script type="text/javascript">
    document.write(wet.builder.refTop({
    }));
  </script>
<style>
.provisional.wb-steps .wb-tggle-fildst > legend:before {
	background-color: #fff;
	padding: 4px;
	-webkit-border-radius: 50%;
	-moz-border-radius: 50%;
	border-radius: 50%;
	border: 3px solid #6f6f6f;
	height: 1.2em;
	width: 1.2em;
	box-sizing: content-box;
	margin-right: 10px;
	display: inline-block;
	text-align: center;
	line-height: 1.2;
	content: counter(fieldset_counter);
}
.panel-default > .panel-heading.wb-steps-active {
	background-color: #fff;
}
.provisional.wb-steps .wb-tggle-fildst > legend.wb-steps-active:before {
	background-color: #1c578a;
	border-color: #1c578a;
	color: #fff;
}
.provisional.wb-steps .wb-tggle-fildst > legend:not(.wb-steps-active) {
	font-size: 18px;
}
.provisional.wb-steps .wb-tggle-fildst > legend.wb-steps-active {
	font-weight: bold;
}
fieldset +.buttons {
	margin-left: 15px;
}
.wb-steps-active .panel-title {
	font-size: 1.3em;
}
	fieldset fieldset {min-width: 1px;}
.ds-example {
	margin-top: 15px;
	border: 1px solid #e3e3e3;
	box-shadow: 0px 0px 8px #e3e3e3;
}
.ds-example>.wb-tabs>.tabpanels {
	background: #f9f9f9;
}
.ds-example>.wb-tabs>.tabpanels legend {
	font-size: 80%;
	font-weight: 700;
	margin: 0 0 5px;
}
.ds-example>.wb-tabs>.tabpanels fieldset {
	padding-top: 0;
}
.ds-example>.wb-tabs>.tabpanels>details>summary {
	background: #fff;
	border-radius: 0;
}
.ds-example>.wb-tabs [role=tablist]>li:focus, .ds-example>.wb-tabs [role=tablist]>li:hover {
	background: #ddd;
}
.ds-example>.wb-tabs {
	margin-bottom: 0;
}
.ds-example>.wb-tabs>.tabpanels>details {
	margin-bottom: 0;
}
.ds-example .panel-body {
	box-shadow: none;
}

@media screen and (max-width: 991px) {
.ds-example>.wb-tabs .tgl-panel {
	margin-top: 15px;
}
}

@media screen and (min-width: 992px) {
.ds-example>.wb-tabs>.tabpanels>details {
	border: none;
	padding: 15px;
}
.ds-example>.wb-tabs [role=tablist]>li {
	border: none;
	background: none;
}
.ds-example>.wb-tabs [role=tablist]>li.active a {
	border-width: 0 0 4px;
}
.ds-example>.wb-tabs>.tabpanels>details {
	padding: 30px;
}
.ds-example>.wb-tabs>.tabpanels>details {
	background: #f9f9f9;
	padding: 30px;
	margin-bottom: 0;
}
}
</style>
</head>

<body vocab="http://schema.org/" typeof="WebPage">
<div id="def-top"> </div>
<!-- Write closure template --> 
<script type="text/javascript">
    var defTop = document.getElementById("def-top");
    defTop.outerHTML = wet.builder.top({
      lngLinks: [{

        lang: "fr",
        href: "how-much-mt-fr.html",
        text: "Français"
      }],
      breadcrumbs: [{
        title: "Canada.ca",
        href: "https://www.canada.ca/en.html"
      }, {
        title: "Business and industry",
        href: "https://www.canada.ca/en/services/business.html"
      }, {
        title: "Calculate your wage or hiring amount",
        href: "how-much.html"
      }],
      search: true,
      siteMenu: true,
      showPreContent: true
    });
  </script>
    <main property="mainContentOfPage" class="container">
    <h1 property="name" id="wb-cont">Calculate your 12-month average revenue drop</h1>

    <div data-wb-urlmapping='{
        "subsidy=cews":
        [{
            "action": "removeClass",
            "source": ".breadcrumb li:nth-child(3)",
            "class": "hidden"
        }, {
            "action": "addClass",
            "source": ".breadcrumb li:nth-child(4)",
            "class": "hidden"
        }],
        "subsidy=crhp":
        [{
            "action": "removeClass",
            "source": ".breadcrumb li:nth-child(4)",
            "class": "hidden"
        }, {
            "action": "addClass",
            "source": ".breadcrumb li:nth-child(3)",
            "class": "hidden"
        }] 
    }'></div>
    <h2 class="h3 mrgn-tp-sm">On this page</h2>
    <ul>
        <!-- <li><a href="#h-1">How the calculator helps you</a></li> -->
        <!-- <li><a href="#h-1">What is the 12-month average revenue drop</a></li> -->
        <li><a href="#h-1">When to calculate the 12-month average revenue drop</a></li>
        <li><a href="#h-2">Differences with the claim period revenue drop calculations</a></li>
        <li><a href="#h-3">Calculate your 12-month average revenue drop</a></li>
    </ul>

    <h2 id="h-1">When to calculate the 12-month average revenue drop</h2>
    <p>You only need to calculate the 12-month average revenue drop <strong>one time</strong>. You will use the same 12-month average revenue drop for all of your claims from 22 onward.</p>
    <p>For details on the math behind the calculation, refer to <a href="#">how the 12-month average revenue drop is calculated</a>.</p>

    <!-- <h2 id="h-2">Differences with the claim period calculation</h2> -->
    <h2 id="h-2">Differences with the claim period revenue drop calculations</h2>
    <dl class="dl-horizontal">
      <dt>Include revenue increases</dt>
      <dd>You must include revenue for all months during which you operated. This includes for revenue increases, which are included in the average revenue drop.</dd>
      <dt>Deeming rule does not apply</dt>
      <dd>Unlike the claim period revenue drop, there is no deeming rule provision for the 12-month average revenue drop. You must include revenue drop figures for each reference period.</dd>
      <!-- <dt>Calculate each month's drop separately</dt>
      <dd>The calculation is the average of all monthly revenue drops, exluding months when you were not in operation. You must calculate each month's revenue drop separately, then average them.</dd> -->
    </dl>
    <!-- <h3>You must include revenue increases</h3>
    <p>You must include revenue for all months during which you operated. This includes for revenue increases, which are included in the average revenue drop.</p>

    <h3>The deeming rule does not apply</h3>
    <p>Unlike the claim period revenue drop, there is no deeming rule provision for the 12-month average revenue drop. You must include revenue drop figures for each reference period.</p> -->

    <h2 id="h-3">Calculate your 12-month average revenue drop</h2>
    <p>You must use the same comparison methods for the 12-month average revenue drop calculation as you used for your CEWS and CERS claims.</p>

    <div class="wb-frmvld provisional">
      <form action="#" method="get">
        <ol class="lst-stps">
          <li id="stp1">
            <h3>Comparison method for periods 1 to 4</h3>
            <fieldset class="provisional gc-chckbxrdio chckbxrdio-grpsubfields">
              <legend class="mrgn-tp-md required" ><span class="field-name">Which pre-crisis revenue comparison option did you use to calculate eligibility for CEWS periods 1 to 4 (March 15th to July 4th, 2020)?</span> <strong class="required">(required)</strong></legend>
              <p>You must ensure that your choice is consistent with your eligibility for any of these periods you applied for. If you did not apply for any of them, you can decide on an option now.</p>
              <ul class="list-unstyled lst-spcd-2">
                <li class="radio">
                  <input type="radio" name="rev-comp-1-4" value="Yes" id="rev-comp-1-4-regular" class="valid" aria-invalid="false" required="required">
                  <label for="rev-comp-1-4-regular">Compare claim month to same month in a prior year</label>
                </li>
                <li class="radio">
                  <input type="radio" name="rev-comp-1-4" value="No" id="rev-comp-1-4-alternate" class="valid" aria-invalid="false" required="required">
                  <label for="rev-comp-1-4-alternate">Compare claim month to average of January and February 2020</label>
                </li>
              </ul>
            </fieldset>
            <fieldset class="p1-4-Jan hidden">
              <!-- Section to add days not operating during Jan-Feb -->
              <div class="form-group row">
                <div class="col-md-12">
                  <div class="checkbox provisional gc-chckbxrdio pull-right">
                    <input id="jan-feb-closed" type="checkbox" checked="checked"/>
                    <label for="jan-feb-closed">You were in business for all 60 days of January and February 2020 (not seasonally affected or beginning operations during that period)</label>
                  </div>
                </div>
              </div>
              <hr>
              <div id="jan-feb-closed-inputs" class="mrgn-bttm-lg hidden">
                <div class="form-group row mrgn-bttm-0">
                  <div class="col-md-12">
                    <label for="jan-feb-closed-days" class="required">Days you were not in business during Jan-Feb 2020 <span class="wb-inv"> (do not include spaces or commas)</span><strong class="required">(required)</strong></label>
                  </div>
                  <div class="col-xs-6">
                    <input type="number" class="form-control text-right" id="jan-feb-closed-days" max="59" min="0" required>
                  </div>
                </div>
              </div>
            </fieldset>
          </li>
          <li id="stp2">
            <h3>Average your revenue drops for March to June</h3>
            <p><a class="wb-lbx" role="button" aria-controls="eligible-rev" href="#eligible-rev">Eligible revenue<span class="mrgn-lft-sm far fa-question-circle"></span></a></p>
            <p class="small text-muted mrgn-tp-lg" aria-hidden="true">Do not include <strong>spaces, commas,</strong> or a <strong>dollar sign</strong></p>
            <fieldset class="brdr-0">
              <div id="p1-4-none" class="row">
                <div class="col-md-12 alert alert-warning provisional">
                  <p>You must select a comparison method in <a href="#stp1">step 1</a> to proceed.</p>
                </div>
              </div>
              <div class="p1-4-Jan row hidden">
                <div class="col-md-12">
                  <p class="h3">Pre-crisis revenue</p>
                </div>
                <div class="col-md-4">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-01-1-4">January 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-01-1-4" id="2020-01-1-4" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-02-1-4">February 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0"  name="2020-02-1-4" id="2020-02-1-4" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="p1-4-months row hidden">
                <div class="col-md-4 p1-4-2019 hidden">
                  <p class="h3 hidden-xs hidden-sm">Pre-crisis revenue</p>
                </div>
                <div class="col-md-4">
                  <p class="h3">Monthly revenue</p>
                </div>
                <div class="col-md-4 hidden-xs hidden-sm">
                  <p class="h3">Monthly drop</p>
                </div>
              </div>
              <div class="p1-4-months row hidden ">
                <div class="col-md-4 p1-4-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2019-03-yes">March 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-03-yes" id="2019-03-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-03-yes">March 2020<span class="wb-inv"> (do not include a dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-03-yes" id="2020-03-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2020-03-operations">
                        <input id="2020-03-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in March 2020</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="text-muted">
                    <p>March drop: <strong><span class="03-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
            </fieldset>
            <hr class="p1-4-months hidden" />
            <div class="p1-4-months row hidden ">
              <div class="col-md-4 p1-4-2019 hidden">
                <div class="form-group row">
                  <label class="col-sm-6 control-label" for="2019-04-yes">April 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                    dollar sign, spaces or commas)</span></label>
                  <div class="col-sm-6">
                    <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                      <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-04-yes" id="2019-04-yes" placeholder="0.00">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="form-group row">
                  <label class="col-sm-6 control-label" for="2020-04-yes">April 2020<span class="wb-inv"> (do not include a
                    dollar sign, spaces or commas)</span></label>
                  <div class="col-sm-6">
                    <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                      <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-04-yes" id="2020-04-yes" placeholder="0.00">
                    </div>
                  </div>
                  <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                    <label for="2020-04-operations">
                      <input id="2020-04-operations" type="checkbox" value="">
                      Not in operation<span class="wb-inv"> in April 2020</span>
                    </label>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="text-muted">
                  <p>April drop: <strong><span class="04-drop">0.00%</span></strong></p>
                </div>
              </div>
            </div>
            <hr class="p1-4-months hidden" />
            <div class="p1-4-months row hidden ">
              <div class="col-md-4 p1-4-2019 hidden">
                <div class="form-group row">
                  <label class="col-sm-6 control-label" for="2019-05-yes">May 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                    dollar sign, spaces or commas)</span></label>
                  <div class="col-sm-6">
                    <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                      <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-05-yes" id="2019-05-yes" placeholder="0.00">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="form-group row">
                  <label class="col-sm-6 control-label" for="2020-05-yes">May 2020<span class="wb-inv"> (do not include a
                    dollar sign, spaces or commas)</span></label>
                  <div class="col-sm-6">
                    <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                      <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-05-yes" id="2020-05-yes" placeholder="0.00">
                    </div>
                  </div>
                  <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                    <label for="2020-05-operations">
                      <input id="2020-05-operations" type="checkbox" value="">
                      Not in operation<span class="wb-inv"> in May 2020</span>
                    </label>
                  </div>
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="text-muted">
                  <p>May drop: <strong><span class="05-drop">0.00%</span></strong></p>
                </div>
              </div>
            </div>
            <hr class="p1-4-months hidden" />
            <div class="p1-4-months row hidden ">
              <div class="col-md-4 p1-4-2019 hidden">
                <div class="form-group row">
                  <label class="col-sm-6 control-label" for="2019-06-yes">June 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                    dollar sign, spaces or commas)</span></label>
                  <div class="col-sm-6">
                    <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                      <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-06-yes" id="2019-06-yes" placeholder="0.00">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="form-group row">
                  <label class="col-sm-6 control-label" for="2020-06-yes">June 2020<span class="wb-inv"> (do not include a
                    dollar sign, spaces or commas)</span></label>
                  <div class="col-sm-6">
                    <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                      <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-06-yes" id="2020-06-yes" placeholder="0.00">
                    </div>
                  </div>
                  <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                    <label for="2020-06-operations">
                      <input id="2020-06-operations" type="checkbox" value="">
                      Not in operation<span class="wb-inv"> in June 2020</span>
                    </label>
                  </div>
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="text-muted">
                  <p>June drop: <strong><span class="06-drop">0.00%</span></strong></p>
                </div>
              </div>
            </div>
            <!-- <hr class="p1-4-months hidden" /> -->
          </li>
          <li id="stp3">
            <h3>Comparison method for periods 5 to 13</h3>
            <fieldset class="provisional gc-chckbxrdio chckbxrdio-grpsubfields">
              <legend class="mrgn-tp-md required" ><span class="field-name">Which pre-crisis revenue comparison option did you use to calculate eligibility for CEWS periods 5 to 13 or CERS periods 1 to 6 (July 5th to March 13th, 2021)?</span> <strong class="required">(required)</strong></legend>
              <p>If you applied for any of these periods, ensure that your choice is consistent with past applications and CEWS and CERS rate calculations. If you did not apply for these periods, you can decide on an option now.</p>
              <ul class="list-unstyled lst-spcd-2">
                <li class="radio">
                  <input type="radio" name="rev-comp-5-13" value="Yes" id="rev-comp-5-13-regular" class="valid" aria-invalid="false" required="required">
                  <label for="rev-comp-5-13-regular">Compare claim month to same month in a prior year</label>
                </li>
                <li class="radio">
                  <input type="radio" name="rev-comp-5-13" value="No" id="rev-comp-5-13-alternate" class="valid" aria-invalid="false" required="required">
                  <label for="rev-comp-5-13-alternate">Compare claim month to average of January and February 2020</label>
                </li>
              </ul>
            </fieldset>
            <fieldset class="p5-13-Jan hidden">
              <!-- Section to add days not operating during Jan-Feb -->
              <div class="form-group row">
                <div class="col-md-12">
                  <div class="checkbox provisional gc-chckbxrdio pull-right">
                    <input id="jan-feb-closed-2" type="checkbox" checked="checked"/>
                    <label for="jan-feb-closed-2">You were in business for all 60 days of January and February 2020 (not seasonally affected or beginning operations during that period)</label>
                  </div>
                </div>
              </div>
              <hr>
              <div id="jan-feb-closed-2-inputs" class="mrgn-bttm-lg hidden">
                <div class="form-group row mrgn-bttm-0">
                  <div class="col-md-12">
                    <label for="jan-feb-closed-days-2" class="required">Days you were not in business during Jan-Feb 2020 <span class="wb-inv"> (do not include spaces or commas)</span><strong class="required">(required)</strong></label>
                  </div>
                  <div class="col-xs-6">
                    <input type="number" class="form-control text-right" id="jan-feb-closed-days-2" max="59" min="0" required>
                  </div>
                </div>
              </div>
            </fieldset>
          </li>
          <li id="stp4">
            <h3>Average your revenue drops for July to February</h3>
            <p><a class="wb-lbx" role="button" aria-controls="eligible-rev" href="#eligible-rev">Eligible revenue<span class="mrgn-lft-sm far fa-question-circle"></span></a></p>
            <p class="small text-muted mrgn-tp-lg" aria-hidden="true">Do not include <strong>spaces, commas,</strong> or a <strong>dollar sign</strong></p>
            <fieldset class="brdr-0">
              <div id="p5-13-none" class="row">
                <div class="col-md-12 alert alert-warning provisional">
                  <p>You must select a comparison method in <a href="#stp3">step 3</a> to proceed.</p>
                </div>
              </div>
              <div class="p5-13-Jan row hidden">
                <div class="col-md-12">
                  <p class="h3">Pre-crisis revenue</p>
                </div>
                <div class="col-md-4">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-01-5-13">January 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-01-5-13" id="2020-01-5-13" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-02-yes">February 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0"  name="2020-02-5-13" id="2020-02-5-13" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="p5-13-months row hidden">
                <div class="col-md-4 p5-13-2019 hidden">
                  <p class="h3 hidden-xs hidden-sm">Pre-crisis revenue</p>
                </div>
                <div class="col-md-4">
                  <p class="h3">Monthly revenue</p>
                </div>
                <div class="col-md-4 hidden-xs hidden-sm">
                  <p class="h3">Monthly drop</p>
                </div>
              </div>
              <div class="p5-13-months row hidden ">
                <div class="col-md-4 p5-13-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2019-07-yes">July 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-07-yes" id="2019-07-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-07-yes">July 2020<span class="wb-inv"> (do not include a dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-07-yes" id="2020-07-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2020-07-operations">
                        <input id="2020-07-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in July 2020</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="text-muted">
                    <p>July drop: <strong><span class="07-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
              <hr class="p5-13-months hidden" />
              <div class="p5-13-months row hidden ">
                <div class="col-md-4 p5-13-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2019-08-yes">August 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-08-yes" id="2019-08-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-08-yes">August 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-08-yes" id="2020-08-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2020-08-operations">
                        <input id="2020-08-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in August 2020</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="text-muted">
                    <p>August drop: <strong><span class="08-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
              <hr class="p5-13-months hidden" />
              <div class="p5-13-months row hidden ">
                <div class="col-md-4 p5-13-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2019-09-yes">September 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-09-yes" id="2019-09-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-09-yes">September 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-09-yes" id="2020-09-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2020-09-operations">
                        <input id="2020-09-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in September 2020</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="text-muted">
                    <p>September drop: <strong><span class="09-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
              <hr class="p5-13-months hidden" />
              <div class="p5-13-months row hidden ">
                <div class="col-md-4 p5-13-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2019-10-yes">October 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-10-yes" id="2019-10-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-10-yes">October 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-10-yes" id="2020-10-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2020-10-operations">
                        <input id="2020-10-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in October 2020</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="text-muted">
                    <p>October drop: <strong><span class="10-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
              <hr class="p5-13-months hidden" />
              <div class="p5-13-months row hidden ">
                <div class="col-md-4 p5-13-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2019-11-yes">November 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-11-yes" id="2019-11-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-11-yes">November 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-11-yes" id="2020-11-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2020-11-operations">
                        <input id="2020-11-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in November 2020</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="text-muted">
                    <p>November drop: <strong><span class="11-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
              <hr class="p5-13-months hidden" />
              <div class="p5-13-months row hidden ">
                <div class="col-md-4 p5-13-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2019-12-yes">December 2019 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2019-12-yes" id="2019-12-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-12-yes">December 2020<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-12-yes" id="2020-12-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2020-12-operations">
                        <input id="2020-12-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in December 2020</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="text-muted">
                    <p>December drop: <strong><span class="12-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
              <hr class="p5-13-months hidden" />
              <div class="p5-13-months row hidden ">
                <div class="col-md-4 p5-13-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-01-yes">January 2020 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-01-yes" id="2020-01-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2021-01-yes">January 2021<span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2021-01-yes" id="2021-01-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2021-01-operations">
                        <input id="2021-01-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in January 2021</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="text-muted">
                    <p>January drop: <strong><span class="01-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
              <hr class="p5-13-months hidden" />
              <div class="p5-13-months row hidden ">
                <div class="col-md-4 p5-13-2019 hidden">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2020-02-yes">February 2020 <span class="visible-xs visible-sm">(Pre-crisis revenue)</span><span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2020-02-yes" id="2020-02-yes" placeholder="0.00">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="form-group row">
                    <label class="col-sm-6 control-label" for="2021-02-yes">February 2021 <span class="wb-inv"> (do not include a
                      dollar sign, spaces or commas)</span></label>
                    <div class="col-sm-6">
                      <div class="input-group"> <span class="input-group-addon input-sm">$</span>
                        <input type="number" class="form-control text-right revenue-drop-month currency" min="0" name="2021-02-yes" id="2021-02-yes" placeholder="0.00">
                      </div>
                    </div>
                    <div class="checkbox mrgn-tp-sm mrgn-lft-lg">
                      <label for="2021-02-operations">
                        <input id="2021-02-operations" type="checkbox" value="">
                        Not in operation<span class="wb-inv"> in February 2021</span>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 ">
                  <div class="text-muted">
                    <p>February drop: <strong><span class="02-drop">0.00%</span></strong></p>
                  </div>
                </div>
              </div>
              <!-- <hr class="p5-13-months hidden" /> -->
            </fieldset>
          </li>
          <li id="stp5">
            <p class="h3 mrgn-tp-sm">Result</p>
            <div class="well text-muted mrgn-tp-md">
              <h3 class="mrgn-tp-0">Your 12-month average revenue drop summary</h3>
              <p>Your 12-month average revenue drop is <span class="h4 12-month-drop">0.00%</span>.</p>
              <p>The 12-month average revenue drop is calculated as the average of your revenue drops for all months during which you were operating.</p>
            </div>
            <p class="h3 mrgn-tp-sm brdr-tp">Calculation summary</p>
            <ul class="list-unstyled">
              <li class="mrgn-tp-md"><a href="#12-month-calculation-table" aria-controls="12-month-calculation-table" class="wb-lbx lbx-modal btn btn-primary" role="button" id="showEmpTable">Review, download and print your 12-month average revenue drop summary</a></li>
            </ul>
            <div class="alert alert-info provisional mrgn-tp-md">
              <p class="text-info"><strong>Save your 12-month average revenue drop summary for periods 22 to 28 THRP and HHBRP calculations:</strong></p>
              <p>Print and keep the record of the CRHP base period remuneration amount to use in future calculations of the wage or rent subsidies.</p>
              <p>You can then go back to Step 2 of the <a href="how-much.html">wage subsidy calculator</a> or <a href="../rent-subsidy/how-much.html">rent subsidy calculator</a> to input your 12-month average revenue drop and continue to calculate your subsidy for claim periods 22 and onward.</p>
            </div>
          </li>
        </ol>
      </form>
    </div>



    <section id="12-month-calculation-table" class="mfp-hide modal-dialog modal-content overlay-def wb-popup-full">
      <header class="modal-header">
        <h2 class="modal-title">12-month average revenue calculation</h2>
      </header>
      <div class="modal-body">
        <p class="mrgn-bttm-md">
            <button type="button" class="btn btn-default hidden-print toCSV"><span class="fas fa-download"></span> Download the following table as spreadsheet file (CSV)</button>
        </p>
        <div class="table-responsive">
            <table class="table table-bordered table-condensed small" id="dataset-filter" summary="Remuneration calculations for claim period">
            <thead>
                <tr>
                <th>Month</th>
                <th>Pre-crisis revenue</th>
                <th>Monthly revenue</th>
                <th>Revenue drop</th>
                </tr>
            </thead>
            <tbody>
              <tr>
                <td><span>March <span class="03-not-operating hidden">(not in operation)</span></td>
                <td><span class="p1-4-Jan hidden">Alternate baseline</span><span class="p1-4-2019">$<span data-updated-by="2019-03-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-03-yes">0.00</span></td>
                <td><span class="03-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>April <span class="04-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p1-4-Jan hidden">Alternate baseline</span><span class="p1-4-2019">$<span data-updated-by="2019-04-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-04-yes">0.00</span></td>
                <td><span class="04-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>May <span class="05-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p1-4-Jan hidden">Alternate baseline</span><span class="p1-4-2019">$<span data-updated-by="2019-05-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-05-yes">0.00</span></td>
                <td><span class="05-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>June <span class="06-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p1-4-Jan hidden">Alternate baseline</span><span class="p1-4-2019">$<span data-updated-by="2019-06-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-06-yes">0.00</span></td>
                <td><span class="06-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>July <span class="07-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p5-13-Jan hidden">Alternate baseline</span><span class="p5-13-2019">$<span data-updated-by="2019-07-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-07-yes">0.00</span></td>
                <td><span class="07-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>August <span class="08-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p5-13-Jan hidden">Alternate baseline</span><span class="p5-13-2019">$<span data-updated-by="2019-08-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-08-yes">0.00</span></td>
                <td><span class="08-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>September <span class="09-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p5-13-Jan hidden">Alternate baseline</span><span class="p5-13-2019">$<span data-updated-by="2019-09-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-09-yes">0.00</span></td>
                <td><span class="09-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>October <span class="10-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p5-13-Jan hidden">Alternate baseline</span><span class="p5-13-2019">$<span data-updated-by="2019-10-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-10-yes">0.00</span></td>
                <td><span class="10-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>November <span class="11-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p5-13-Jan hidden">Alternate baseline</span><span class="p5-13-2019">$<span data-updated-by="2019-11-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-11-yes">0.00</span></td>
                <td><span class="11-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>December <span class="12-not-operating hidden">(not in operation)</span></span></td>
                <td><span class="p5-13-Jan hidden">Alternate baseline</span><span class="p5-13-2019">$<span data-updated-by="2019-12-yes">0.00</span></span></td>
                <td>$<span data-updated-by="2020-12-yes">0.00</span></td>
                <td><span class="12-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>January <span class="01-not-operating hidden">(not in operation)</span></span></td>
                <td>$<span data-updated-by="2020-01-yes">0.00</span></td>
                <td>$<span data-updated-by="2021-01-yes">0.00</span></td>
                <td><span class="01-drop">0.00%</span></td>
              </tr>
              <tr>
                <td><span>February <span class="02-not-operating hidden">(not in operation)</span></span></td>
                <td>$<span data-updated-by="2020-02-yes">0.00</span></td>
                <td>$<span data-updated-by="2021-02-yes">0.00</span></td>
                <td><span class="02-drop">0.00%</span></td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td><strong>Months not operating in 2020:</strong> <span class="months-not-operating"></span></td>
                <td><span class="pAny-Jan hidden"><strong>Days not operating in Jan-Feb:</strong> <span data-updated-by="jan-feb-closed-days"></span></span></td>
                <td></td>
                <td><strong>12-month average revenue drop:</strong> <span class="12-month-drop h3">0.00%</span></td>
              </tr>
            </tfoot>
            </table>
        </div>
        <ul class="list-inline">
          <li><button onclick="window.print()" class="btn btn-success btn-lg hidden-print"><span class="glyphicon glyphicon-print"></span> Print this summary</button></li>
          <li class="pull-right"><button title="Close overlay" class="btn btn-sm btn-default pull-right popup-modal-dismiss" type="button">Close<span class="wb-inv"> overlay</span></button></li>
        </ul>
      </div>
    </section>
  </div>

<section id="baseline-optns" class="mfp-hide modal-dialog modal-content overlay-def">
  <header class="modal-header">
    <h2 class="modal-title">Compare the baseline revenue options</h2>
  </header>
  <div class="modal-body">
    <h3 class="mrgn-tp-sm">Baseline revenue and prior reference period options</h3>
    <div data-ajax-replace="../wage-subsidy/cews-how-much-reduction.html #basebaselinecalc-cntnt">
      <p><a href="../wage-subsidy/cews-how-much-reduction.html#basebaselinecalc-cntnt">Baseline revenue and prior reference period
        options</a></p>
    </div>
    <details>
      <summary>Example: Choosing a revenue comparison option</summary>
      <div data-ajax-replace="how-much-reduction.html #rev-drop-example-1-cntnt"> </div>
    </details>
  </div>
</section>
<section id="baseline-rem" class="mfp-hide modal-dialog modal-content overlay-def">
  <header class="modal-header">
    <h2 class="modal-title">Pre-crisis pay (baseline remuneration)</h2>
  </header>
  <div class="modal-body" data-ajax-replace="../hiring-program/crhp-who-employees.html#baselineremuneration-cntnt">
    <p><a href="../hiring-program/crhp-who-employees.html#baselineremuneration">Pre-crisis pay (baseline remuneration)</a></p>
  </div>
  <!-- <div class="modal-body" data-ajax-replace="../wage-subsidy/cews-who-employees.html #baselineremuneration-cntnt">
    <p><a href="../wage-subsidy/cews-who-employees.html#baselineremuneration">Pre-crisis pay (baseline remuneration)</a></p>
  </div> -->
</section>
<section id="eligible-rev" class="mfp-hide modal-dialog modal-content overlay-def">
  <header class="modal-header">
    <h2 class="modal-title">Eligible revenue</h2>
  </header>
  <div class="modal-body">
    <p>These months are needed to calculate your revenue drops for the current period, prior period, and top-up
      period, using your chosen baseline.</p>
    <p>Read more about <a href="../wage-subsidy/cews-who-apply.html#eligible-revenue" target="_blank">eligible <span
              class="nowrap">revenue<span class="far fa-window-restore mrgn-lft-sm"></span></span><span class="wb-inv"> (opens in new window)</span></a></p>
  </div>
</section>
	<!--End of overlays//-->
	
	

  <div id="def-preFooter"></div>
  <!-- Write closure template --> 
  <script type="text/javascript">
      var defPreFooter = document.getElementById("def-preFooter");
      defPreFooter.outerHTML = wet.builder.preFooter({
        dateModified: "2021-05-18",
        showPostContent: true,
        showFeedback: true,
        showShare: true
      });
    </script> 
</main>
<div id="def-footer"></div>
<!-- Write closure template --> 
<script type="text/javascript">
    var defFooter = document.getElementById("def-footer");
    defFooter.outerHTML = wet.builder.footer({
      showFooter: true,
      showFeatures: true
    });
  </script> 
<!-- Write closure template --> 
<script type="text/javascript">
    document.write(wet.builder.refFooter({
    }));
  </script> 
<script src="https://test.canada.ca/covid-19-guidance/proto/js/alpha-banner.js"></script> 
<!--Scripts by CXO149 May 2021 //--> 
<script>
    (function ($, window, wb) {
      "use strict";
      /*
      * Variable and function definitions.
      * These are global to the plugin - meaning that they will be initialized once per page,
      * not once per instance of plugin on the page. So, this is a good place to define
      * variables that are common to all instances of the plugin on a page.
      */
      // function that should be moved as a helper class or something
      const toMoney = new Intl.NumberFormat(wb.lang + "-CA", {
        style: "currency",
        currency: "CAD",
        minimumFractionDigits: 2
      });
      var componentName = "wb-calc",
        selector = "." + componentName,
        initEvent = "wb-init" + selector,
        $document = wb.doc,
        defaults = {},
        sep = {
          iso: {
            en: "--",
            fr: "--"
          },
          claim: {
            en: " to ",
            fr: " au "
          }
        },
        /**
         * @method init
         * @param {jQuery Event} event Event that triggered the function call
         */
        init = function (event) {
          // Start initialization
          // returns DOM object = proceed with init
          // returns undefined = do not proceed with init (e.g., already initialized)

          var elm = wb.init(event, componentName, selector),
            $elm,
            settings;

          if (elm) {
            $elm = $(elm);
            // ... Do the plugin initialisation
            // Get the plugin JSON configuration set on attribute data-wb-helloworld
            settings = $.extend(
              true,
              {},
              defaults,
              window[componentName],
              wb.getData($elm, componentName)
            );

            // Call my custom event
            $elm.trigger("change", settings);
            // Identify that initialization has completed
            wb.ready($elm, componentName);
          }
        };
        
      // Plugin event handlers
      $document.on("change", "input", function (event) {
        var target = event.target;
        var parts = target.id.split("-");
        $('[data-updated-by='+ target.id +']').text(target.value);
        if (parts[0] == "2020" && (parts[1] == "01" || parts[1] == "02")) {
          $('input[id^=2020-'+ parts[1] +'-]').val(target.value);
          $('[data-updated-by=2020-' + parts[1] +'-yes]').text(target.value);
        } else if (parts[0] == "jan" && parts[2] == "closed") { //jan-feb-closed-days and closed-days-2
          if (target.value == "on") {
            target.value = 0;
          }
          $('input[id^=jan-feb-closed-days]').val(target.value);
          $('[data-updated-by=jan-feb-closed-days]').text(target.value); //for summary
          calculateTwelveMonthDrop();
        }
      });

      $document.on("click", "input[type=radio]", function (event) {
        var target = event.target;
        var parts = target.name.split("-");
        var locationNumber = parts[parts.length - 1];
        if (target.name == "rev-comp-1-4") {
          if (target.id == "rev-comp-1-4-regular") {
            $('.p1-4-months').removeClass("hidden");
            $('.p1-4-Jan').addClass("hidden");
            $('.p1-4-2019').removeClass("hidden");
            $('#p1-4-none').addClass("hidden");
          } else if (target.id == "rev-comp-1-4-alternate") {
            $('.p1-4-months').removeClass("hidden");
            $('.p1-4-Jan').removeClass("hidden");
            $('.p1-4-2019').addClass("hidden");
            $('#p1-4-none').addClass("hidden");
          } else {
            $('.p1-4-months').addClass("hidden");
            $('.p1-4-Jan').addClass("hidden");
            $('.p1-4-2019').addClass("hidden");
            $('#p1-4-none').removeClass("hidden");
          }
          calculateTwelveMonthDrop();
        } else if (target.name == "rev-comp-5-13") {
          if (target.id == "rev-comp-5-13-regular") {
            $('.p5-13-months').removeClass("hidden");
            $('.p5-13-Jan').addClass("hidden");
            $('.p5-13-2019').removeClass("hidden");
            $('#p5-13-none').addClass("hidden");
          } else if (target.id == "rev-comp-5-13-alternate") {
            $('.p5-13-months').removeClass("hidden");
            $('.p5-13-Jan').removeClass("hidden");
            $('.p5-13-2019').addClass("hidden");
            $('#p5-13-none').addClass("hidden");
          } else {
            $('.p5-13-months').addClass("hidden");
            $('.p5-13-Jan').addClass("hidden");
            $('.p5-13-2019').addClass("hidden");
            $('#p5-13-none').removeClass("hidden");
          }
          calculateTwelveMonthDrop();
        }
      });

      $document.on("click", "input[type=checkbox]", function (event) {
        var target = event.target;
        var parts = target.id.split('-');
        //Check which radio button it is and which content it's show/hiding
        if (parts[2] == "operations") {
          if ($('#' + target.id + ':checked').length > 0) {
            //disable the input fields
            $("#2019-" + parts[1] + "-yes").prop('disabled', true);
            $("#2020-" + parts[1] + "-yes").prop('disabled', true);
            $("." + parts[1] + "-not-operating").removeClass("hidden");
          } else {
            $("#2019-" + parts[1] + "-yes").prop('disabled', false);
            $("#2020-" + parts[1] + "-yes").prop('disabled', false);
            $("." + parts[1] + "-not-operating").addClass("hidden");
          }
        } else if (target.id == "jan-feb-closed" || target.id == "jan-feb-closed-2") {
          if ($('#' + target.id + '-inputs').is(":hidden")) {
            $('#jan-feb-closed-inputs').removeClass("hidden");
            $('#jan-feb-closed-2-inputs').removeClass("hidden");
            if (target.id == "jan-feb-closed") {
              $('#jan-feb-closed-2').prop('checked', false);
            } else {
              $('#jan-feb-closed').prop('checked', false); 
            }
          } else {
            $('#jan-feb-closed-inputs').addClass("hidden");
            $('#jan-feb-closed-2-inputs').addClass("hidden");
            if (target.id == "jan-feb-closed") {
              $('#jan-feb-closed-2').prop('checked', true);
            } else {
              $('#jan-feb-closed').prop('checked', true); 
            }
          }
        }
        calculateTwelveMonthDrop();
      });

      //on input
      $document.on("change", ".revenue-drop-month", function (event) {calculateTwelveMonthDrop();});

      function calculateTwelveMonthDrop() {
        var monthlyOperations = [];
        var monthlyDrops = [];
        var monthlyOperationsSum = 0;
        var monthlyDropsSum = 0;
        var year = "";
        var curYRev = 0;
        var priorYear = "";
        var priorYRev = 0;
        var janFebDays = zeroIfEmpty($('#jan-feb-closed-days').val());
        if ($('#jan-feb-closed-inputs').is(":visible") || $('#jan-feb-closed-2-inputs').is(":visible")) { //either of the days fields are visible
          $('.pAny-Jan').removeClass("hidden");
        } else {
          $('.pAny-Jan').addClass("hidden");
        }
        for (let i = 1; i <= 12; i++) {
          if (i < 3) {
            year = "2021";
            priorYear = "2020";
          } else {
            year = "2020";
            priorYear = "2019";
          }
          // console.log("i: " + i);
          monthlyOperations[i] = $("#" + year + "-" + pad(i, 2) + "-operations:checked").length;
          if ((i > 2 && i < 7 && $('#rev-comp-1-4-regular:checked').length > 0) || ((i < 3 || i > 6) && $('#rev-comp-5-13-regular:checked').length > 0)){
            priorYRev = zeroIfEmpty($("#" + priorYear + "-" + pad(i, 2) + "-yes").val());
          } else if (i > 2 && i < 7 && $('#rev-comp-1-4-alternate:checked').length > 0) {
            priorYRev = (zeroIfEmpty($("#2020-01-1-4").val()) + zeroIfEmpty($("#2020-02-1-4").val())) / 2;
            if ($('#jan-feb-closed-inputs:checked').length == 0) {
              priorYRev = priorYRev * 60 / (60 - janFebDays);
            }
          } else if ((i < 3 || i > 6) && $('#rev-comp-5-13-alternate:checked').length > 0) {
            priorYRev = (zeroIfEmpty($("#2020-01-5-13").val()) + zeroIfEmpty($("#2020-02-5-13").val())) / 2;
            if ($('#jan-feb-closed-inputs:checked').length == 0) {
              priorYRev = priorYRev * 60 / (60 - janFebDays);
            }
          }
          curYRev = zeroIfEmpty($("#" + year + "-" + pad(i, 2) + "-yes").val());
          if (monthlyOperations[i] > 0) {
            monthlyOperationsSum++;
            monthlyDrops[i] = 0;
            $("." + pad(i, 2) + "-drop").text("Excluded from average");
          } else if (priorYRev == 0) {
            monthlyDrops[i] = 0;
            $("." + pad(i, 2) + "-drop").text(toPercent(0));
          } else {
            monthlyDrops[i] = (priorYRev - curYRev) / priorYRev;
            monthlyDropsSum+= monthlyDrops[i];
            $("." + pad(i, 2) + "-drop").text(toPercent(monthlyDrops[i] * 100));
          }
          // console.log("monthlyDrops[i]: " + monthlyDrops[i]);
        }
        // console.log("monthlyOperationsSum: " + monthlyOperationsSum);
        // console.log("monthlyDropsSum: " + monthlyDropsSum);
        var twelveMonthDrop = monthlyDropsSum / (12 - monthlyOperationsSum);
        $(".12-month-drop").text(toPercent(twelveMonthDrop * 100));
        $(".months-not-operating").text(monthlyOperationsSum);
      }


      /**
      * Apply the transforms necessary for FR vs EN syntax of percentages
      */
      function toPercent(percentage) {
        if (document.documentElement.lang == "fr") {
          return parseFloat(percentage).toFixed(2) + '\xa0%';
        } else {
          return parseFloat(percentage).toFixed(2) + '%';
        }
      }

      /**
       * zeroIfEmpty()
       * return 0 if the number cannot be parsed into a float; does not account * for letter values.
       */
       function zeroIfEmpty(fieldVal) {
        if (fieldVal != null && fieldVal != "") {
          return parseFloat(fieldVal);
        } else {
          return 0;
        }
      }

      //https://stackoverflow.com/questions/2998784/how-to-output-numbers-with-leading-zeros-in-javascript
      function pad(num, size) {
        num = num.toString();
        while (num.length < size) num = "0" + num;
        return num;
      }

      // Bind the init event of the plugin
      $document.on("timerpoke.wb " + initEvent, selector, init);
      // Add the timer poke to initialize the plugin
      wb.add(selector);
    })(jQuery, window, wb);
    $(document).on("click", ".toCSV", function (event) {
      export_table_to_csv("12-month-drop.csv");
    });

    /**
     * export_table_to_csv
     *
     * https://jsfiddle.net/gengns/j1jm2tjx/
     */
    function export_table_to_csv(filename) {
      var csv = [];
      var rows = $("#dataset-filter tr");
      for (var i = 0; i < rows.length; i++) {
        var row = [], cols = rows[i].querySelectorAll("td, th");

        for (var j = 0; j < cols.length; j++) {
          if (document.documentElement.lang == "fr") {
            var val = cols[j].innerText.replace(",", ".");
            val = val.replace(/,/g, ".")
            val = val.replace(/\s/g, "")
            row.push(val);
          } else {
            row.push(cols[j].innerText.replace(",", ""));
          }
        }

        csv.push(row.join(","));
      }
      // Download CSV
      download_csv(csv.join("\n"), filename);
    }
    /**
     * download_csv
     *
     * https://jsfiddle.net/gengns/j1jm2tjx/
     * 
     */
    function download_csv(csv, filename) {
      var csvFile;
      var downloadLink;

      // CSV FILE
      csv = "\uFEFF" + csv;
      csvFile = new Blob([csv], { type: "text/csv", encoding: "UTF-8" });

      // Download link
      downloadLink = document.createElement("a");

      // File name
      downloadLink.download = filename;

      // We have to create a link to the file
      downloadLink.href = window.URL.createObjectURL(csvFile);

      // Make sure that the link is not displayed
      downloadLink.style.display = "none";

      // Add the link to your DOM
      document.body.appendChild(downloadLink);

      // Lanzamos
      downloadLink.click();
    }
  </script>
</body>
</html>
