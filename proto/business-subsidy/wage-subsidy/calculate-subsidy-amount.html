<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
   <head>
      <meta charset="utf-8">
      <!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
      <title>Calculate your subsidy amount - COVID-19 wage and payroll support for businesses – Canada.ca</title>
      <meta content="width=device-width,initial-scale=1" name="viewport">
      <meta name=”robots” content=”noindex”>
      <!-- Meta data -->
      <!-- Meta data-->
      <!-- Load closure template scripts -->
      <script type="text/javascript" src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/cdts/compiled/soyutils.js"></script>
      <script type="text/javascript" src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v4_0_30/cdts/compiled/wet-en.js"></script>
      <link href="https://test.canada.ca/covid-19-guidance/proto/css/alpha-beta-banner.css" rel="stylesheet">
      <link href="../../css/cews.css" rel="stylesheet">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
      <!-- Write closure template -->
      <script type="text/javascript">
         document.write(wet.builder.refTop({
         }));
      </script>
   </head>
   <body vocab="http://schema.org/" typeof="WebPage">
      <div id="def-top">
      </div>
      <!-- Write closure template -->
      <script type="text/javascript">
         var defTop = document.getElementById("def-top");
         defTop.outerHTML = wet.builder.top({
           lngLinks: [{
         
             lang: "fr",
             href: "#",
             text: "Français"
           }],
           breadcrumbs: [{
              title: "Canada.ca",
              href: "https://www.canada.ca/en.html"
            },{
              title: "Business and industry",
              href: "https://www.canada.ca/en/services/business.html"
            },{
              title: "Managing your business during COVID-19",
              href: "https://www.canada.ca/en/services/business/maintaining-your-business.html"
            },{
              title: "Wage and rent subsidies",
              href: "../index.html"
            },{
              title: "COVID-19 wage and payroll support for businesses",
              href: "index.html"
            }],
           search: true,
           siteMenu: true,
           showPreContent: true
         });
      </script>
      <main property="mainContentOfPage" class="container">
         <section class="gc-nav">
            <h1 property="name" id="wb-cont-nav">COVID-19 wage and payroll support for businesses</h1>
            <ul id="gc-navseq-nav" class="hidden-xs hidden-sm">
               <li> <a class="gc-navseq-nav-btn" href="#gc-navseq-header">Go to navigation menu</a> </li>
               <li> <a class="gc-navseq-nav-btn" href="#wb-cont">Skip to main content</a> </li>
            </ul>
            <nav aria-label="Section menu">
               <h2 id="gc-navseq-header" class="mrgn-tp-0 hidden-xs hidden-sm">Sections</h2>
               <ul class="gc-navseq">
                  <li><a href="compare-crhp.html">Compare the wage and hiring subsidies</a></li>
                  <li><a href="who-apply.html">Who can apply</a></li>
                  <li><a href="periods-apply.html">Periods you can apply for</a></li>
                  <li><a href="who-employees.html">Which of your employees qualify</a></li>
                  <li class="active"><a aria-current="page">Calculate your amount</a></li>
                  <li><a href="how-apply.html">How to apply</a></li>
                  <li><a href="after-apply.html">After you apply</a></li>
                  <li><a href="contact.html">Contact us about the wage subsidy</a></li>
               </ul>
		<div class="hidden-sm hidden-xs" data-ajax-replace="index.html #related-menu>"> </div>
            </nav>
         </section>
         <section class="gc-nav-section experimental">
    <h1 property="name" id="wb-cont">Calculate your amount</h1>
    <p>Use the online calculator or downloadable spreadsheet before you apply to find the amount of Tourism and Hospitality Recovery Program (THRP), Hardest-Hit Business Recovery Program (HHBRP), Canada Emergency Wage Subsidy (CEWS) or Canada Recovery Hiring Program (CRHP) wage subsidy you can claim.</p>
    <ol class="lst-stps">
      <li>In the calculator, enter your revenue and employee pay information for all of your eligible employees, even if you have more than one payroll (RP) account</li>
      <li>Calculate and see which program gives you the highest amount:
	    <ul>
		<li>For claim periods 22 and later, you will calculate and compare the wage amounts of THRP, HHBRP, and CRHP</li>
		<li>For claim periods 17 to 21, you will calculate and compare the amounts of CEWS and CRHP</li>
		<li>For claim periods 16 and earlier, the calculator is for past CEWS information only</li>
	    </ul>
	</li>
      <li>Print and save the numbers you'll need to enter when you apply</li>
      <li>Apply for the wage subsidy online through My Business Account, Represent a Client, or the Web Forms application using the information you printed</li>
    </ol>
	
    <p><a href="/en/revenue-agency/services/subsidy/calculate-wage-hiring-subsidies.html" class="btn btn-call-to-action"><i class="fas fa-calculator"></i>&nbsp; Calculate your subsidy amount</a></p>
    <h2>In-depth details of the calculations</h2>
		 <details>
			 <summary>How the wage subsidy is calculated for the THRP (periods 22 and later)</summary>
 			 		<p>For each claim period, the amount of THRP equals <strong>(A &times; B) &minus; C</strong><span class="wb-inv">A multiplied by B minus C</span>, where:</p>
		<div class="mrgn-lft-md">
			<ul class="fa-ul lst-spcd">
				<li><span class="fa-li"><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">A</span></span></span>
					<div class="mrgn-lft-md">The total amount of eligible remuneration you paid to all your eligible employees for the current claim period. For each eligible employee, for each week of the claim period, the amount is the least of the following:
						<ul>
							<li>the amount of eligible remuneration paid to each employee in respect of that week</li>
							<li>$1129</li>
							<li>if the employee is a <a href="/en/revenue-agency/services/subsidy/recovery-hiring-program/crhp-who-employees.html#h-1">non-arm’s-length employee</a>, the <a href="/en/revenue-agency/services/subsidy/recovery-hiring-program/crhp-who-employees.html#baselineremuneration">pre-crisis remuneration</a> of the employee determined for that week</li>
							<li>if the employee is on leave with pay that week, $0</li>
						</ul>
					</div>
				</li>
				<li><span class="fa-li"><span class="fas fa-times fa-li"><span class="wb-inv">multiplied by</span></span><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">B</span> </span></span>
					<div class="mrgn-lft-md">
					The appropriate rate for the claim period you are applying for
					<ul class="list-unstyled mrgn-lft-md">
						<li>
							<table class="table">
								<caption class="wb-inv">THRP rates by claim period and revenue drop</caption>
								<thead>
									<tr>
										<th scope="col">Claim period</th>
										<th scope="col">Current-period revenue drop</th>
										<th scope="col">Subsidy rate</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>22 to 26</td>
										<td>75% and over</td>
										<td>75%</td>
									</tr>
									<tr>
										<td>22 to 26</td>
										<td>40 to 74.99%</td>
										<td>same as current-period revenue drop</td>
									</tr>
									<tr>
										<td>22 to 26</td>
										<td>less than 40%</td>
										<td>0%</td>
									</tr>
									<tr>
										<td>27 and 28</td>
										<td>75% and over</td>
										<td>37.5%</td>
									</tr>
									<tr>
										<td>27 and 28</td>
										<td>40 to 74.99%</td>
										<td>current-period revenue drop &divide; 2</td>
									</tr>
									<tr>
										<td>27 and 28</td>
										<td>less than 40%</td>
										<td>0%</td>
									</tr>
								</tbody>
							</table>
						</li>
					</ul>
				</div></li>
				<li class="brdr-bttm"><span class="fa-li"><span class="fas fa-minus fa-li"><span class="wb-inv">minus</span></span><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">C</span> </span></span>
					<div class="mrgn-lft-md">
						The total of any work-sharing benefit amounts received by eligible employees during the claim period through ESDC's <a href="/en/employment-social-development/services/work-sharing.html">Work-Sharing</a> program
					</div>
				</li>
			</ul>
		</div>
		<p>There is no overall limit on the total subsidy amount that an eligible employer may claim.</p>
	</div>
      </details>

		 <details>
			 <summary>How the wage subsidy is calculated for the HHBRP (periods 22 and later)</summary>
	 		<p>For each claim period, the amount of HHBRP equals <strong>(A &times; B) &minus; C</strong><span class="wb-inv">A multiplied by B minus C</span>, where:</p>
		<div class="mrgn-lft-md">
			<ul class="fa-ul lst-spcd">
				<li><span class="fa-li"><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">A</span></span></span>
					<div class="mrgn-lft-md">The total amount of eligible remuneration you paid to all your eligible employees for the current claim period. For each eligible employee, for each week of the claim period, the amount is the least of the following:
						<ul>
							<li>the amount of eligible remuneration paid to each employee in respect of that week</li>
							<li>$1129</li>
							<li>if the employee is a <a href="/en/revenue-agency/services/subsidy/recovery-hiring-program/crhp-who-employees.html#h-1">non-arm’s-length employee</a>, the <a href="/en/revenue-agency/services/subsidy/recovery-hiring-program/crhp-who-employees.html#baselineremuneration">pre-crisis remuneration</a> of the employee determined for that week</li>
							<li>if the employee is on leave with pay that week, $0</li>
						</ul>
					</div>
				</li>
				<li><span class="fa-li"><span class="fas fa-times fa-li"><span class="wb-inv">multiplied by</span></span><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">B</span> </span></span>
					<div class="mrgn-lft-md">
					The appropriate rate for the claim period you are applying for
					<ul class="list-unstyled mrgn-lft-md">
						<li>
							<table class="table">
								<caption class="wb-inv">HHBRP rates by claim period and revenue drop</caption>
								<thead>
									<tr>
										<th scope="col">Claim period</th>
										<th scope="col">Current-period revenue drop</th>
										<th scope="col">Subsidy rate</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>22 to 26</td>
										<td>75% and over</td>
										<td>50%</td>
									</tr>
									<tr>
										<td>22 to 26</td>
										<td>50 to 74.99%</td>
										<td>10% &plus; (revenue decline &minus; 50%) &times; 1.6</td>
									</tr>
									<tr>
										<td>22 to 26</td>
										<td>less than 50%</td>
										<td>0%</td>
									</tr>
									<tr>
										<td>27 and 28</td>
										<td>75% and over</td>
										<td>25%</td>
									</tr>
									<tr>
										<td>27 and 28</td>
										<td>50 to 74.99%</td>
										<td>5% &plus; (revenue decline &minus; 50%) &times; 0.8</td>
									</tr>
									<tr>
										<td>27 and 28</td>
										<td>less than 50%</td>
										<td>0%</td>
									</tr>
								</tbody>
							</table>
						</li>
					</ul>
				</div></li>
								<li class="brdr-bttm"><span class="fa-li"><span class="fas fa-minus fa-li"><span class="wb-inv">minus</span></span><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">C</span> </span></span>
					<div class="mrgn-lft-md">The total of any work-sharing benefit amounts received by eligible employees during the claim period through ESDC's <a href="/en/employment-social-development/services/work-sharing.html">Work-Sharing</a> program
					</div>
				</li>
			</ul>
		</div>
		<p>There is no overall limit on the total subsidy amount that an eligible employer may claim.</p>
	</div>
		 </details>

		 <details>
			<summary>How the subsidy is calculated for the CRHP (periods 17 and later)</summary>
			<div id="CRHP-math">
		<p>For each claim period, the amount of CRHP equals <strong>(A − B) × C</strong><span class="wb-inv">A minus B multiplied by C</span>, where:</p>
		<div class="mrgn-lft-md">
			<ul class="fa-ul lst-spcd">
				<li><span class="fa-li"><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">A</span></span></span>
					<div class="mrgn-lft-md">The total amount of eligible remuneration you paid to all your eligible employees for the current claim period. For each eligible employee, for each week of the claim period, the amount is the least of the following:
						<ul>
							<li>the amount of eligible remuneration paid to each employee in respect of that week</li>
							<li>$1129</li>
							<li>if the employee is a <a href="/en/revenue-agency/services/subsidy/recovery-hiring-program/crhp-who-employees.html#h-1">non-arm’s-length employee</a>, the <a href="/en/revenue-agency/services/subsidy/recovery-hiring-program/crhp-who-employees.html#baselineremuneration">pre-crisis remuneration</a> of the employee determined for that week</li>
							<li>if the employee is on leave with pay that week, $0</li>
						</ul>
					</div>
				</li>
				<li class="brdr-bttm"><span class="fa-li"><span class="fas fa-minus fa-li"><span class="wb-inv">minus</span></span><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">B</span> </span></span>
					<div class="mrgn-lft-md">The total amount of eligible remuneration you paid to all your eligible employees for the base period (March 14 to April 10, 2021). For each eligible employee, for each week of the claim period, the amount is the least of the following:
						<ul>
							<li>the amount of eligible remuneration paid to each employee in respect of that week</li>
							<li>$1129</li>
							<li>if the employee is a <a href="/en/revenue-agency/services/subsidy/recovery-hiring-program/crhp-who-employees.html#nonarm">non-arm’s-length employee</a>, the <a href="/en/revenue-agency/services/subsidy/recovery-hiring-program/crhp-who-employees.html#baselineremuneration">pre-crisis remuneration</a> of the employee determined for that week</li>
							<li>if the employee is on leave with pay that week, $0</li>
						</ul>
					</div>
				</li>
				<li><span class="fa-li"><span class="fas fa-equals fa-li"><span class="wb-inv">equals</span></span><!--<span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse"></span>--> </span>
					<div class="mrgn-lft-md h3 mrgn-tp-md mrgn-bttm-lg">Increase in employee pay (incremental remuneration)</div>
				</li>
				<li><span class="fa-li"><span class="fas fa-times fa-li"><span class="wb-inv">multiplied by</span></span><span class="fa-stack text-muted"> <span class="fas fa-circle fa-stack-2x"></span> <span class="fa-stack-1x fa-inverse">C</span> </span></span>
					<div class="mrgn-lft-md">
					Flat rate for the claim period you are applying for
					<ul class="list-unstyled mrgn-lft-md">
						<li>
							<table class="table">
<caption class="wb-inv">Flat rate for the claim period you are applying for</caption>
								<thead>
									<tr>
										<th scope="col">Subsidy rate</th>
										<th scope="col">Claim period</th>
									</tr>
								</thead>
								<tbody>
									<tr class="active">
										<td>50%</td>
										<td><strong>17</strong> (June&nbsp;6 to July&nbsp;3, 2021) </td>
									</tr>
									<tr>
										<td>50%</td>
										<td><strong>18</strong> (July&nbsp;4 to July&nbsp;31, 2021)</td>
									</tr>
									<tr>
										<td>50%</td>
										<td><strong>19</strong> (August&nbsp;1 to August&nbsp;28, 2021)</td>
									</tr>
									<tr>
										<td>40%</td>
										<td><strong>20</strong> (August&nbsp;29 to September&nbsp;25, 2021)</td>
									</tr>
									<tr>
										<td>30%</td>
										<td><strong>21</strong> (September&nbsp;26 to October&nbsp;23, 2021)</td>
									</tr>
									<tr>
										<td>50%</td>
										<td><strong>22 and later</strong> (October&nbsp;24 to May&nbsp;7, 2022)</td>
									</tr>
								</tbody>
							</table>
						</li>
					</ul>
				</div></li>
			</ul>
		</div>
		<p>There is no overall limit on the total subsidy amount that an eligible employer may claim.</p>
	</div>
</details>
      <details>
        <summary>How the subsidy is calculated for the CEWS (periods 11 to 21)</summary>
        <div class="alert alert-info">
          <p>A proposed change <a href="/en/department-finance/news/2021/07/extending-business-support-measures-through-the-pandemic.html">announced on July&nbsp;30,&nbsp;2021</a>, would remove the ability to claim CPP, QPP, EI, and QPIP amounts for employees on leave with pay for claim periods&nbsp;20 and later.</p>
        </div>
        <p id="p7-9">For each qualifying period, <strong>A &minus; B &plus; C</strong>, where:</p>
        <dl>
          <dt><span class="h3">A &equals;</span></dt>
          <dd>
          <ul class="list-unstyled">
          <li> The total of all amounts—each of which is for an <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-who-employees.html#h-1">eligible employee</a> in respect of a week in the qualifying period:
            <ul>
              <li> <strong>if the employee is active</strong> (not <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-who-employees.html#leave">on leave with pay</a> for that week), the amount determined by the eligible employer’s <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-how-revenue-drop-subsidy-rate-calculated.html#overall">overall subsidy rate</a> for the period, multiplied by the least of:
                <ul>
                  <li>the amount of eligible remuneration paid to the  employee in respect of that week</li>
                  <li>$1129, and</li>
                  <li>If the employee is a <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-who-employees.html#nonarm">non-arm’s-length employee</a>, the <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-who-employees.html#baselineremuneration">pre-crisis remuneration</a> of the employee determined for that week</li>
                </ul>
                <strong>or</strong> </li>
              <li> <strong>if the employee is</strong> <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-who-employees.html#leave">on leave with pay</a> (furloughed) for that week:
                <ul>
                  <li>for <strong>periods 11 to 19</strong>, the least of the following:
                    <ul>
                      <li>the eligible remuneration paid to the employee in respect of that week</li>
                      <li>the <strong>greater</strong> of
                        <ul>
                          <li>$500, or</li>
                          <li>55% of the employee’s pre-crisis remuneration determined for that week</li>
                        </ul>
                      </li>
                      <li>$595, or</li>
                      <li>$0, if either of the following applies
                        <ul>
                          <li>the employee is a <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-who-employees.html#nonarm">non-arm’s-length employee</a> and the <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-who-employees.html#baselineremuneration">pre-crisis remuneration</a> of the employee determined for that week is $0 <br>
                            <strong>or</strong> </li>
                          <li>the eligible employer’s <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-how-revenue-drop-subsidy-rate-calculated.html#overall">overall subsidy rate</a> for the period is 0%</li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li>for <strong>periods 20 and 21</strong>, $0</li>
                </ul>
              </li>
            </ul>
          </li></ul></dd>
          <dt><span class="h3">B &equals;</span> </dt>
          <dd>The total of any work-sharing benefit amounts received by eligible employees during the claim period through ESDC's <a href="/en/employment-social-development/services/work-sharing.html">Work-Sharing</a> program</dd>
          <dt><span class="h3">C</span> &equals; Either:</dt>
          <dd>
            <ul>
              <li> if the eligible employer’s <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-how-revenue-drop-subsidy-rate-calculated.html#overall">overall subsidy rate</a> for the period is greater than 0%, the total of the employer contributions to:
                <ul>
                  <li>Employment Insurance (EI)</li>
                  <li>the Quebec Parental Insurance Plan (QPIP)</li>
                  <li>the Canada Pension Plan (CPP), and</li>
                  <li>the Quebec Pension Plan (QPP)</li>
                </ul>
                for an eligible employee, for each whole week in the claim period that the eligible employee was on leave with pay<br>
                <strong>or</strong> </li>
              <li>if the eligible employer’s <a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-how-revenue-drop-subsidy-rate-calculated.html#overall">overall subsidy rate</a> for the period is 0%, this amount is $0.</li>
            </ul>
          </dd>
        </dl>
      </details>
	<p><a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-how-subsidy-calculated.html">How the subsidy was calculated for CEWS (claim periods 1 to 10)</a></p>
	 <p><a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-how-revenue-drop-subsidy-rate-calculated.html">How the revenue drop and subsidy rate are calculated for CEWS (periods 1 to 21)</a></p>
    <nav class="mrgn-bttm-lg mrgn-tp-lg">
      <h3 class="wb-inv">Document navigation</h3>
      <ul class="pager">
        <li class="next"><a href="/en/revenue-agency/services/subsidy/emergency-wage-subsidy/cews-how-apply.html" rel="next">How to apply</a></li>
      </ul>
    </nav>
  </section>
         <div id="def-preFooter"></div>
         <!-- Write closure template -->
         <script type="text/javascript">
            var defPreFooter = document.getElementById("def-preFooter");
            defPreFooter.outerHTML = wet.builder.preFooter({
              dateModified: "2020-10-30",
              showPostContent: true,
              showFeedback: true,
              showShare: true
            });
         </script>
      </main>
      <div id="def-footer"></div>
      <!-- Write closure template -->
      <script type="text/javascript">
         var defFooter = document.getElementById("def-footer");
         defFooter.outerHTML = wet.builder.footer({
           showFooter: true,
           showFeatures: true
         });
      </script>
      <!-- Write closure template -->
      <script type="text/javascript">
         document.write(wet.builder.refFooter({
         }));
      </script>
      <script src="https://test.canada.ca/covid-19-guidance/proto/js/alpha-banner.js"></script>
      <script>
         ( function( $, window, wb ) {
           "use strict";
           /*
           * Variable and function definitions.
           * These are global to the plugin - meaning that they will be initialized once per page,
           * not once per instance of plugin on the page. So, this is a good place to define
           * variables that are common to all instances of the plugin on a page.
           */
           // function that should be moved as a helper class or something
           const toMoney = new Intl.NumberFormat(wb.lang + "-CA", {
             style: "currency",
             currency: "CAD",
             minimumFractionDigits: 2
           });
         
           var componentName = "wb-calc",
               selector = "." + componentName,
               initEvent = "wb-init" + selector,
               $document = wb.doc,
               defaults = {},
               sep = {
                 iso: {
                   en: "--",
                   fr: "--"
                 },
                 claim: {
                   en: " to ",
                   fr: " au "
                 }
               },
             /**
              * @method init
              * @param {jQuery Event} event Event that triggered the function call
              */
             init = function( event ) {
               // Start initialization
               // returns DOM object = proceed with init
               // returns undefined = do not proceed with init (e.g., already initialized)
               
               var elm = wb.init( event, componentName, selector ),
                   $elm,
                   settings;
         
               if ( elm ) {
                 $elm = $( elm );
                 // ... Do the plugin initialisation
                 // Get the plugin JSON configuration set on attribute data-wb-helloworld
                 settings = $.extend(
                   true,
                   {},
                   defaults,
                   window[ componentName ],
                   wb.getData( $elm, componentName )
                 );
         
                 // Call my custom event
                 $elm.trigger( "change", settings );
                 // Identify that initialization has completed
                 wb.ready( $elm, componentName );
               }
             };
         
           // Plugin event handlers
           $document.on( "change", "input", function( event ) {
             var elm = event.currentTarget,
                 $elm = $( elm ),
                 $elmId = $elm.attr("id"),
                 data = wb.getData( $("output[for='" + $elmId + "']"), componentName),
                 value = $elm.val().replace(/\,\s/g,''), // Needs to be replaced by data.expr evaluation
                 total = 0; 
         
             if(data.expr) {
               if (data.format === "currency") {
                 $("output[for='" + $elmId + "']").html( toMoney.format(value * 1 ) );
               } else {
                 $("output[for='" + $elmId + "']").html( value * 1 );
               };
             }
             
             total = ($("#p2c-cews").val() * 1) + ($("#p3-ei").val() * 1) + ($("#p3-cpp").val() * 1) - ($("#p4-tws").val() * 1) - ($("#p4-wsb").val() * 1);
             if(total < 0) {
               $("[for='p2c-cews p3-ei p3-cpp p4-tws p4-wsb']").html( toMoney.format(0) );
             } else {
               $("[for='p2c-cews p3-ei p3-cpp p4-tws p4-wsb']").html( toMoney.format(total) );
             };
           });
         
           $document.on("change", selector, function( event, data ) {
             var elm = event.currentTarget,
                 $elm = $( elm ),
                 $input = $("#" + $elm.attr("for")),
                 value = $input.val();
         
             if (data && data.format === "currency") {
               $elm.html( toMoney.format(value * 1) );
             } else {
               $elm.html( value * 1 );  
             };
             $("[for='p2c-ee p2c-pyrl p2c-cews p3-ei p3-cpp p4-tws p4-wsb']").html(toMoney.format(0));
           } );
         
           $document.on("change", "#claim-period", function( event ) {
             var rangeISO = $(this).find('option:selected').val(),
               startDateISO = rangeISO.substring(0, rangeISO.indexOf(sep.iso[wb.lang])),
               endDateISO = rangeISO.substring(rangeISO.indexOf(sep.iso[wb.lang]) + sep.iso[wb.lang].length, rangeISO.length),
               rangeClaim = $(this).find("option:selected").text(),
               startDateClaim = rangeClaim.substring(0, rangeClaim.indexOf(sep.claim[wb.lang])),
               endDateClaim = rangeClaim.substring(rangeClaim.indexOf(sep.claim[wb.lang]) + sep.claim[wb.lang].length, rangeClaim.length);
         
             if(!$("#claim-period option:selected:eq(0)")) {
               $('.claim-period').html("<time datetime=\"" + startDateISO + "\">" + startDateClaim + "</time>" + sep.claim[wb.lang] + "<time datetime=\"" + endDateISO + "\">" + endDateClaim + "</time>");
             } else {
               $('.claim-period').html($("#claim-period option:selected").text());
             }
           });
         
           $document.on("click", "#calculate", function( event ) {
             event.preventDefault();
             var count = 0,
                 $elms = $(".wb-frmvld select, .wb-frmvld input"),
                 $emptyElms = [];
         
             for (let i = 0; i < $($elms).length; i++) {
               var $elm = $($elms).eq(i);
               if($elm.val() == "") {
                 $emptyElms.push($elm);
                 count++;
               }
             }
         
             if($("#errors-default")[0]) {
               $('html, body').animate( {scrollTop: $("#errors-default").offset().top}, 'slow');
             } else if( $emptyElms[0] ) {
               $('html, body').animate( {scrollTop: $($emptyElms[0]).offset().top}, 'slow');
             } else {
               $("#results").toggleClass('hidden');
             }
           });
           // Bind the init event of the plugin
           $document.on( "timerpoke.wb " + initEvent, selector, init );
           // Add the timer poke to initialize the plugin
           wb.add( selector );
           } )( jQuery, window, wb );
         
           // TODO: Escape commas and whitespaces in input[type=number] in IE and Edge(Trident)
      </script>
   </body>
</html>
